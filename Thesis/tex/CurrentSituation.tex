\documentclass{../local}
\begin{document}

\section{REXOS Overall Architecture}
% How we changed the architecture, and why we made which decisions

The initial situation in REXOS is students in the previous semester left it. Figure 1 shows a overview of all system components.
\begin{figure}[h!]
\flushleft
	\includegraphics[width=1.1\linewidth]{../images/Decentralized_REXOS.jpg}
	%we might want to increase the text on this image..%
	\caption{System overview}
\end{figure}
When work on REXOS started, the project only functioned in a very limited way. It was designed to give a draw demo, which was far below requirements. The 'mainframe' of the architecture was present, but poorly implemented and documented.
The current system houses 2 major components. MAS, which represents the intellegent part of the system, and ROS, the part responsible for executing commands.

\subsection{MAS}
%Tell smth about implementation of the curr MAS system, what purpose it serves, and how its implemented.%
The MAS\footnote{Multi agent system. See abbreviations for more detail.} was designed to be the intelligent and cognitive side of the the REXOS platform. It incorperates virtual autonomous entities known as agents and is implemented in JADE \textbf{ref2section}. As shown in figure \textbf{ref to system overview} there are currently 5 agents. 

\begin{description}
  \item[Product agent] \hfill \\
		The product agents is a representation of the product. It is responsible for scheduling itself with the equiplets it need for finishing the product it represents.
  \item[Equiplet agent] \hfill \\
  		The equiplet agent is responsible for all communication with the product agent. It handles dealing with its own schedule aswell.
  \item[Service agent] \hfill \\
  		The service agent handles all service level translations. 
  \item[Hardware agent] \hfill \\
  		The hardware agent is responsible for 'controlling' the hardware. It also handles module step translations.
  \item[Logistics agent] \hfill \\
  		The logistics are handles all logistics within a grid. Its responsibilities include providing information about parts.
\end{description}

The MAS also provides a product abstraction. This means that a product 

The current implementation of the MAS is lacking both capability and structure. Previous groups of students have worked on the project and set up the basic version of the MAS. 

\subsubsection{Knowledge database}
%het was ruk

\subsubsection{New Modules}
%het was ruk

\subsubsection{Planning}
%het was ruk

\subsection{ROS}
%Tell smth about implementation of the curr ROS system, what purpose it serves, and how its implemented.%
The current ROS side of the system represents all the hardware in code. All ROS actions are non-autonomous and driven by the intelligent side of REXOS. This means that all MAS-Agents take smart and cognitive decisions and ROS executes these. 

\subsubsection{Equiplet node}
%het was ruk
\subsubsection{MAST}
%het was ruk
\subsubsection{Vision}
%het was ruk

\subsection{Communication}
Communication between the layers is an important aspect of REXOS. Communication is defined in distinct ways. All data exchange happens through blackboards.A blackboard is a MongoDB implementation with the advantage of allowing read write permissions. This means that blackboards can be configured to allow for one entity to read and write from it, whilst the other is only allowed to write on it. Communication between agents all happends through the JADE ACL(\textbf{ref /  dingen hier}). Communication between ROS and MAS also happends through blackboards.\\
\end{document}